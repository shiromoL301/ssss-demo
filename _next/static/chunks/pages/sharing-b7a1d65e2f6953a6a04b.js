(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{222:function(n,t,r){"use strict";r.d(t,{Z:function(){return e}});var e=r(9163).ZP.div.withConfig({displayName:"Card",componentId:"sc-1n7ukst-0"})(["padding:0px 1rem;@media screen and (max-width:800px){padding-inline:0px;}"])},191:function(n,t,r){"use strict";r.d(t,{t:function(){return x}});var e=r(5893),i=r(7294),o=r(9163),a=[-4,10],c=[-400,500];function s(n){return a[0]>n.x||n.x>a[1]||c[0]>n.y||n.y>c[1]?null:{x:(n.x-a[0])*(500/(a[1]-a[0])),y:(c[1]-n.y)*(400/(c[1]-c[0]))}}var u=o.ZP.svg.withConfig({displayName:"GraphView__Svg",componentId:"a74iim-0"})(["background-color:",";max-width:","px;max-height:","px;width:90vw;"],(function(n){return n.theme.bgWhite}),500,400),d=o.ZP.line.withConfig({displayName:"GraphView__StyledAxis",componentId:"a74iim-1"})(["stroke:",";"],(function(n){return n.theme.gray3})),l=o.ZP.text.withConfig({displayName:"GraphView__AxisText",componentId:"a74iim-2"})(["fill:",";"],(function(n){return n.theme.gray3})),f=o.ZP.circle.withConfig({displayName:"GraphView__Point",componentId:"a74iim-3"})(["fill:",";opacity:0.15;"],(function(n){return n.theme.primary})),p=o.ZP.circle.withConfig({displayName:"GraphView__SecondaryPoint",componentId:"a74iim-4"})(["fill:",";stroke:",";stroke-width:2px;r:3;&:hover{cursor:pointer;r:6px;transition:0.2s;}"],(function(n){return n.theme.white}),(function(n){return n.theme.primary})),h=o.ZP.circle.withConfig({displayName:"GraphView__PrimaryPoint",componentId:"a74iim-5"})(["fill:",";stroke:",";stroke-width:1px;r:4;&:hover{cursor:pointer;r:7px;transition:0.2s;}"],(function(n){return n.theme.secondary}),(function(n){return n.theme.primary})),m=function(){var n,t,r,i,o,u,f,p,h=[s({x:a[0],y:0}),s({x:a[1],y:0})],m=[s({x:0,y:c[0]}),s({x:0,y:c[1]})],x=s({x:0,y:0});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(d,{x1:null===(n=h[0])||void 0===n?void 0:n.x,y1:null===(t=h[0])||void 0===t?void 0:t.y,x2:null===(r=h[1])||void 0===r?void 0:r.x,y2:null===(i=h[1])||void 0===i?void 0:i.y}),(0,e.jsx)(d,{x1:null===(o=m[0])||void 0===o?void 0:o.x,y1:null===(u=m[0])||void 0===u?void 0:u.y,x2:null===(f=m[1])||void 0===f?void 0:f.x,y2:null===(p=m[1])||void 0===p?void 0:p.y}),x&&(0,e.jsx)(l,{transform:"translate(".concat(x.x-20,", ").concat(x.y+20,")"),children:"O"}),(0,e.jsx)(l,{transform:"translate(".concat(h[1]&&h[1].x-20,", ").concat(h[1]&&h[1].y+20,")"),children:"x"}),(0,e.jsx)(l,{transform:"translate(".concat(m[1]&&m[1].x-20,", ").concat(m[1]&&m[1].y+20,")"),children:"y"})]})},x=function(n){var t=n.f,r=n.primaryPoints,o=n.secondaryPoints,c=(0,i.useMemo)((function(){for(var n=100*(a[1]-a[0]),r=[],e=a[0];e<n;e+=.01){var i=s({x:e,y:t(e)});i&&r.push(i)}return r}),[t]);return(0,e.jsxs)(u,{viewBox:"0 0 ".concat(500," ").concat(400),children:[(0,e.jsx)(m,{}),c.map((function(n){return(0,e.jsx)(f,{r:1,cx:n.x,cy:n.y},"".concat(n.x,",").concat(n.y))})),null===o||void 0===o?void 0:o.map((function(n,t){var r=s(n);return r?(0,e.jsx)(p,{r:3,cx:r.x,cy:r.y},"".concat(r.x,",").concat(r.y,",").concat(t)):null})),null===r||void 0===r?void 0:r.map((function(n,t){var r=s(n);return r?(0,e.jsx)(h,{r:4,cx:r.x,cy:r.y},"".concat(r.x,",").concat(r.y,",").concat(t)):null}))]})}},4883:function(n,t,r){"use strict";r.d(t,{I:function(){return i}});var e=r(9163),i=e.ZP.input.withConfig({displayName:"Input",componentId:"sc-8ozaw5-0"})(["padding:2px 4px;border:1px solid ",";border-radius:5px;background-color:",";",";"],(function(n){return n.theme.gray2}),(function(n){return n.theme.bgWhite}),(function(n){switch(n.width){case"sm":return(0,e.iv)(["width:36px;"]);case"lg":return(0,e.iv)(["width:88px;"]);default:case"md":return(0,e.iv)(["width:64px;"])}}))},1325:function(n,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var e=r(5893),i=r(9163),o=r(9999),a=r(4121),c=r(2804),s=r(191),u=i.ZP.button.withConfig({displayName:"Button",componentId:"n0yaek-0"})(["background-color:",";border:1px solid ",";border-radius:5px;box-shadow:0 0 2px 1px ",";color:"," !important;padding:2px 6px;&:hover{filter:brightness(0.9);}&:active{box-shadow:none;}"],(function(n){return n.theme.primary}),(function(n){return n.theme.primary}),(function(n){return n.theme.gray2}),(function(n){return n.theme.white})),d=r(4883),l=i.ZP.span.withConfig({displayName:"Polynomial__Symbol",componentId:"lpp5ul-0"})(["margin-inline:3px;"]),f=function(n){var t=n.coeffs;return(0,e.jsxs)("div",{children:["y =",t.map((function(n,t){if(0===n)return null;if(0===t)return(0,e.jsx)("span",{children:n},"".concat(t).concat(n));var r=n>0?"+":"-";return 1===t?(0,e.jsxs)("span",{children:[(0,e.jsx)(l,{children:r}),Math.abs(n),"x"]},"".concat(t).concat(n)):(0,e.jsxs)("span",{children:[(0,e.jsx)(l,{children:r}),Math.abs(n),"x",(0,e.jsx)("sup",{children:t})]},"".concat(t).concat(n))}))]})},p=(0,c.cn)({key:"coefficients",default:[]}),h=r(7294);function m(){var n=(0,c.FV)(p),t=(0,a.Z)(n,2),r=t[0],e=t[1],i=(0,h.useMemo)((function(){return r.length-1}),[r]),o=(0,h.useCallback)((function(n){return r.reduce((function(t,r,e){return t+r*Math.pow(n,e)}),0)}),[r]),s=(0,h.useCallback)((function(n,t,r){for(var i=[],o=0;o<=n;o+=1)i.push(Math.round(Math.random()*(r-t))+t);e(i)}),[]);return{coeffs:r,setCoeffs:e,deg:i,f:o,initRandomCoeffs:s}}var x=(0,c.cn)({key:"SHARING::threshold",default:3}),y=(0,c.cn)({key:"SHARING::secret",default:123}),v=(0,c.cn)({key:"SHARING::shares",default:[]});function w(n,t){return Math.round(Math.random()*(t-n))+n}function g(n,t){var r=(0,c.FV)(v),e=(0,a.Z)(r,2),i=e[0],s=e[1],u=(0,h.useMemo)((function(){return i.length<10}),[i]),d=(0,h.useCallback)((function(){if(u){var n=new Set(i.map((function(n){return n.x})));n.add(0);var r=function(n){for(var t=w(-3,9);n.has(t);)t=w(-3,9);return t}(n),e={x:r,y:t(r)};s((function(n){return[].concat((0,o.Z)(n),[e])}))}}),[n,t,i,u]),l=(0,h.useCallback)((function(){s([])}),[]);return{shares:i,setShares:s,appendDistinctShare:d,canAppend:u,initShares:l}}var b=i.ZP.div.withConfig({displayName:"PolynomialView__MainContainer",componentId:"sc-1l8mnio-0"})(["position:relative;"]),j=i.ZP.div.withConfig({displayName:"PolynomialView__PolyContainer",componentId:"sc-1l8mnio-1"})(["position:absolute;right:10px;top:10px;"]),_=i.ZP.div.withConfig({displayName:"PolynomialView__Foot",componentId:"sc-1l8mnio-2"})(["display:flex;justify-content:space-between;align-items:center;"]),C=i.ZP.label.withConfig({displayName:"PolynomialView__Label",componentId:"sc-1l8mnio-3"})(["margin-right:12px;"]),Z=function(){var n=(0,c.FV)(x),t=(0,a.Z)(n,2),r=t[0],i=t[1],l=(0,c.FV)(y),p=(0,a.Z)(l,2),h=p[0],v=p[1],w=m(),Z=w.coeffs,P=w.setCoeffs,I=w.f,S=w.initRandomCoeffs,N=g(r,I),k=N.shares,A=N.initShares;return(0,e.jsxs)("div",{children:[(0,e.jsxs)(b,{children:[(0,e.jsx)(j,{children:(0,e.jsx)(f,{coeffs:Z})}),(0,e.jsx)(s.t,{f:I,primaryPoints:[{x:0,y:h}],secondaryPoints:k})]}),(0,e.jsxs)(_,{children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)(C,{children:[(0,e.jsx)("span",{children:"\u79d8\u5bc6\u5024: "}),(0,e.jsx)(d.I,{type:"number",width:"md",value:h,onChange:function(n){return v(+n.target.value)}})]}),(0,e.jsxs)(C,{children:[(0,e.jsx)("span",{children:"\u3057\u304d\u3044\u5024: "}),(0,e.jsx)(d.I,{type:"number",width:"sm",value:r,min:0,max:5,onChange:function(n){return i(+n.target.value)}})]})]}),(0,e.jsx)(u,{type:"button",onClick:function(){S(r-1,-20,20),P((function(n){var t=(0,o.Z)(n);return t[0]=h,t})),A()},children:"\u4f5c\u6210"})]})]})},P=r(222),I=i.ZP.div.withConfig({displayName:"ShareTable__ShareComponent",componentId:"sc-1fm78qa-0"})(["margin:4px 0px;"]),S=i.ZP.div.withConfig({displayName:"ShareTable__ShareContainer",componentId:"sc-1fm78qa-1"})(["margin-top:12px;"]),N=function(){var n=m(),t=n.coeffs,r=n.f,i=g(n.deg+1,r),o=i.shares,a=i.canAppend,c=i.appendDistinctShare;return(0,e.jsxs)(P.Z,{children:[(0,e.jsx)("h2",{children:"\u30b7\u30a7\u30a2"}),(0,e.jsxs)(S,{children:[o.map((function(n){return(0,e.jsxs)(I,{children:["(",n.x,", ",n.y,")"]},"".concat(JSON.stringify(t)).concat(n.x))})),a&&(0,e.jsx)(u,{type:"button",onClick:c,children:"\u8ffd\u52a0"})]})]})},k=i.ZP.div.withConfig({displayName:"Sharing__Container",componentId:"sc-5tacz5-0"})(["display:flex;flex-wrap:wrap;@media screen and (max-width:800px){flex-direction:column;& > div:not(:first-child){margin-top:1rem;}}"]),A=function(){return(0,e.jsxs)(k,{children:[(0,e.jsx)("div",{children:(0,e.jsx)(Z,{})}),(0,e.jsx)("div",{children:(0,e.jsx)(N,{})})]})}},6922:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sharing",function(){return r(1325)}])},5093:function(n,t,r){"use strict";function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}r.d(t,{Z:function(){return e}})},4121:function(n,t,r){"use strict";r.d(t,{Z:function(){return i}});var e=r(355);function i(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var r=[],e=!0,i=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(e=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);e=!0);}catch(s){i=!0,o=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw o}}return r}}(n,t)||(0,e.Z)(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9999:function(n,t,r){"use strict";r.d(t,{Z:function(){return o}});var e=r(5093);var i=r(355);function o(n){return function(n){if(Array.isArray(n))return(0,e.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||(0,i.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},355:function(n,t,r){"use strict";r.d(t,{Z:function(){return i}});var e=r(5093);function i(n,t){if(n){if("string"===typeof n)return(0,e.Z)(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,e.Z)(n,t):void 0}}}},function(n){n.O(0,[774,888,179],(function(){return t=6922,n(n.s=t);var t}));var t=n.O();_N_E=t}]);